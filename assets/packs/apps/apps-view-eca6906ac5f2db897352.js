webpackJsonp([48],{16:function(t,e){window.initializeAhoy=function(){!function(t){"use strict";function e(){return x.urlPrefix+x.visitsUrl}function n(){return x.urlPrefix+x.eventsUrl}function i(){return(x.useBeacon||x.trackNow)&&V&&void 0!==t.navigator.sendBeacon}function o(t){setCookie(t,"",-1)}function r(e){getCookie("ahoy_debug")&&t.console.log(e)}function a(){for(var t;t=T.shift();)t();A=!0}function c(t){A?t():T.push(t)}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function s(){V&&setCookie("ahoy_events",JSON.stringify(D),1)}function f(){return w("meta[name=csrf-token]").attr("content")}function g(){return w("meta[name=csrf-param]").attr("content")}function l(t){var e=f();e&&t.setRequestHeader("X-CSRF-Token",e)}function d(t,e,n){V&&w.ajax({type:"POST",url:t,data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:l,success:n})}function k(t){var e={events:[t],visit_token:t.visit_token,visitor_token:t.visitor_token};return delete t.visit_token,delete t.visitor_token,e}function v(t){c(function(){})}function h(t){c(function(){var e=k(t),i=g(),o=f();i&&o&&(e[i]=o);var r=new Blob([JSON.stringify(e)],{type:"application/json; charset=utf-8"});navigator.sendBeacon(n(),r)})}function _(){return x.page||t.location.pathname}function p(t){var e=w(t.currentTarget);return{tag:e.get(0).tagName.toLowerCase(),id:e.attr("id"),class:e.attr("class"),page:_(),section:e.closest("*[data-section]").data("section")}}function y(){if(A=!1,C=null,P=null,O=null,C&&P&&!O)r("Active visit"),a();else if(O&&o("ahoy_track"),getCookie("ahoy_unique_"+APP_MODEL.meta.id.toString())?setCookie("ahoy_unique_"+APP_MODEL.meta.id.toString(),!1):setCookie("ahoy_unique_"+APP_MODEL.meta.id.toString(),!0,S),C||(C=u(),setCookie("ahoy_visit",C,S)),getCookie("ahoy_visit")){r("Visit started"),P||(P=u(),setCookie("ahoy_visitor",P,b));var n={visit_token:C,visitor_token:P,platform:x.platform,landing_page:t.location.href,screen_width:t.screen.width,screen_height:t.screen.height,app_id:t.APP_MODEL.meta.id,is_unique:"true"===getCookie("ahoy_unique_"+APP_MODEL.meta.id.toString())};document.referrer.length>0&&(n.referrer=document.referrer),r(n),d(e(),n,a)}else r("Cookies disabled"),a()}var x={urlPrefix:"",visitsUrl:counterUri()+"/"+APP_MODEL.meta.id,eventsUrl:counterUri()+"/ahoy/events",cookieDomain:null,page:null,platform:"Web",useBeacon:!1,startOnReady:!0},m=t.ahoy||t.Ahoy||{};m.configure=function(t){for(var e in t)t.hasOwnProperty(e)&&(x[e]=t[e])},m.configure(m);var C,P,O,w=t.jQuery||t.Zepto||t.$,S=240,b=1051200,A=!1,T=[],V="undefined"!=typeof JSON&&void 0!==JSON.stringify,D=[];m.getVisitId=m.getVisitToken=function(){return getCookie("ahoy_visit")},m.getAppId=m.getVisitToken=function(){return t.APP_MODEL.meta.id},m.getVisitorId=m.getVisitorToken=function(){return getCookie("ahoy_visitor")},m.reset=function(){return o("ahoy_visit"),o("ahoy_visitor"),o("ahoy_events"),o("ahoy_track"),!0},m.debug=function(t){return!1===t?o("ahoy_debug"):setCookie("ahoy_debug","t",525600),!0},m.track=function(t,e){var n={id:u(),name:t,properties:e||{},time:(new Date).getTime()/1e3};w(function(){r(n)}),c(function(){m.getVisitId()||y(),n.visit_token=m.getVisitId(),n.visitor_token=m.getVisitorId(),n.app_id=m.getAppId(),i()?h(n):(D.push(n),s(),setTimeout(function(){v(n)},1e3))})},m.trackView=function(e){var n={url:t.location.href,title:document.title,page:_()};if(e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);m.track("$view",n)},m.trackClicks=function(){w(document).on("click","a, button, input[type=submit]",function(t){var e=w(t.currentTarget),n=p(t);n.text="input"==n.tag?e.val():w.trim(e.text().replace(/[\s\r\n]+/g," ")),n.href=e.attr("href"),m.track("$click",n)})},m.trackSubmits=function(){w(document).on("submit","form",function(t){var e=p(t);m.track("$submit",e)})},m.trackChanges=function(){w(document).on("change","input, textarea, select",function(t){var e=p(t);m.track("$change",e)})},m.trackAll=function(){m.trackView(),m.trackClicks(),m.trackSubmits(),m.trackChanges()};try{D=JSON.parse(getCookie("ahoy_events")||"[]")}catch(t){}for(var L=0;L<D.length;L++)v(D[L]);m.start=function(){y(),m.start=function(){}},w(function(){x.startOnReady&&m.start()}),t.ahoy=m}(window),ahoy.trackAll()}},174:function(t,e,n){n(0),n(16)}},[174]);
//# sourceMappingURL=apps-view-eca6906ac5f2db897352.js.map